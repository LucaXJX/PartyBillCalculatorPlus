<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/img/icon32x32.png" sizes="16x16" />
    <title>PBC聚賬通 - 輕鬆管理聚會賬單</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link
      href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <!-- 使用Tailwind中的顏色和字體 -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#4F46E5", // 靛藍色
              secondary: "#EC4899", // 粉紅色
              accent: "#F59E0B", // 琥珀色
              light: "#F3F4F6",
              dark: "#1F2937",
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- 自定義系列工具類 -->
    <style type="text/tailwindcss">
      @layer utilities {
        .content-auto {
          content-visibility: auto;
        }
        .text-shadow {
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .card-hover {
          @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
        }
        .btn-primary {
          @apply bg-accent text-white font-semibold py-3 px-6 rounded-full shadow-md hover:shadow-lg hover:bg-amber-600 transition-all duration-300 transform hover:-translate-y-0.5;
        }
        .btn-secondary {
          @apply bg-white text-primary border border-primary font-semibold py-3 px-6 rounded-full shadow-sm hover:shadow-md hover:bg-primary/5 transition-all duration-300;
        }
      }
    </style>
  </head>
  <body class="font-sans text-dark bg-gray-50">
    <!-- 臨時 Header (如果動態加載失敗) -->
    <header
      id="temp-header"
      class="fixed w-full bg-gradient-to-r from-primary/10 via-white to-secondary/10 shadow-sm z-50 transition-all duration-300"
      style="display: none"
    >
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16 md:h-20">
          <!-- 網站標誌 -->
          <div class="flex items-center">
            <a href="/index.html" class="flex items-center space-x-2">
              <img
                src="/img/icon499x499.png"
                alt="PBC聚賬通標誌"
                class="h-10 w-10 sm:h-12 sm:w-12 md:h-16 md:w-16 object-contain"
              />
              <span class="text-lg sm:text-xl font-bold text-primary"
                >PBC聚賬通</span
              >
            </a>
          </div>

          <!-- 導航鏈接 - 桌面版 -->
          <nav class="hidden md:flex items-center space-x-8">
            <a
              href="#features"
              class="text-gray-600 hover:text-primary transition-colors"
              >功能</a
            >
            <a
              href="#testimonials"
              class="text-gray-600 hover:text-primary transition-colors"
              >用戶評價</a
            >
            <a
              href="#contact"
              class="text-gray-600 hover:text-primary transition-colors"
              >聯絡我們</a
            >
          </nav>

          <!-- 登入/註冊按鈕 -->
          <div class="flex items-center space-x-2 sm:space-x-4">
            <a
              href="/login-page.html"
              class="text-sm sm:text-base text-gray-600 hover:text-primary transition-colors"
              >登入</a
            >
            <a
              href="/registration-page.html"
              class="text-sm sm:text-base bg-accent text-white font-semibold py-2 px-4 sm:py-3 sm:px-6 rounded-full shadow-md hover:shadow-lg hover:bg-amber-600 transition-all duration-300"
              >註冊</a
            >

            <!-- 移動端菜單按鈕 -->
            <button
              id="menu-toggle"
              class="md:hidden text-gray-600 hover:text-primary p-2 min-w-[44px] min-h-[44px] flex items-center justify-center"
              aria-label="開啟選單"
            >
              <i class="fa fa-bars text-xl"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- 移动端菜单 -->
      <div id="mobile-menu" class="md:hidden hidden bg-white border-t">
        <div class="container mx-auto px-4 py-3 space-y-3">
          <a
            href="#features"
            class="block text-gray-600 hover:text-primary py-2 transition-colors"
            >功能</a
          >
          <a
            href="#testimonials"
            class="block text-gray-600 hover:text-primary py-2 transition-colors"
            >用戶評價</a
          >
          <a
            href="#contact"
            class="block text-gray-600 hover:text-primary py-2 transition-colors"
            >聯絡我們</a
          >
          <div class="flex space-x-4 pt-2">
            <a
              href="/login-page.html"
              class="text-gray-600 hover:text-primary transition-colors"
              >登入</a
            >
            <a href="/registration-page.html" class="btn-primary">立即註冊</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Header 將由 JavaScript 動態插入 -->

    <!-- 頁面設置腳本 -->
    <script src="/js/auth.js"></script>
    <script src="/js/components.js"></script>
    <script src="/js/page-setup.js"></script>
    <script>
      // 初始化頁面設置
      document.addEventListener("DOMContentLoaded", async () => {
        console.log("開始初始化首頁...");

        try {
          const pageSetup = new PageSetup();
          console.log("PageSetup 實例創建成功");

          const result = await pageSetup.init({
            currentPage: "index",
            requireAuth: false, // 首頁不需要認證
            showHeader: true,
            showFooter: false, // 首頁使用靜態 footer，不使用動態 footer
            headerOptions: {
              isHomePage: true, // 標記為首頁
              showCalculator: true,
              showMyBills: true,
              showContact: true,
            },
          });

          console.log("頁面初始化結果:", result);

          // 檢查 header 是否正確渲染
          setTimeout(() => {
            const header = document.querySelector("header");
            console.log("Header 元素:", header);
            if (!header) {
              console.error("Header 未找到，顯示備用 header...");
              // 顯示備用 header
              const tempHeader = document.getElementById("temp-header");
              if (tempHeader) {
                tempHeader.style.display = "block";
                console.log("備用 header 已顯示");
              }
            } else {
              console.log("動態 header 渲染成功");
              // 隱藏備用 header
              const tempHeader = document.getElementById("temp-header");
              if (tempHeader) {
                tempHeader.style.display = "none";
              }
            }
          }, 1000);
        } catch (error) {
          console.error("頁面初始化失敗:", error);
          // 如果初始化失敗，顯示備用 header
          const tempHeader = document.getElementById("temp-header");
          if (tempHeader) {
            tempHeader.style.display = "block";
          }
        }
      });

      // 移動端菜單切換功能
      document.addEventListener("click", function (e) {
        if (e.target.closest("#menu-toggle")) {
          e.preventDefault();
          const mobileMenu = document.getElementById("mobile-menu");
          if (mobileMenu) {
            mobileMenu.classList.toggle("hidden");
          }
        }
      });
    </script>

    <!-- Main -->
    <main>
      <!-- 網頁端主畫面 -->
      <section
        id="mainpage"
        class="pt-24 pb-20 md:pt-32 md:pb-28 bg-gradient-to-br from-primary/5 to-secondary/5"
      >
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 mb-10 md:mb-0">
              <!-- Logo容器 -->
              <div class="mb-4">
                <img
                  src="/img/icon499x499A.png"
                  alt="PBC聚账通Logo"
                  class="h-24 w-auto sm:h-32 md:h-40"
                />
              </div>
              <h1
                class="text-[clamp(2rem,5vw,3.5rem)] font-bold leading-tight text-dark mb-6"
              >
                輕鬆搞定<span class="text-primary">聚會賬單</span>點分
              </h1>
              <p class="text-lg text-gray-600 mb-8 max-w-lg">
                無論是朋友之間的聚餐、旅行还是集體活動，賬單的分攤都不應該成為開心之後的煩惱，讓PBC聚賬通公平的為您解決難題。
              </p>
              <div
                class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4"
              >
                <a
                  href="/login-page.html"
                  class="btn-primary text-center min-h-[48px] flex items-center justify-center"
                >
                  開始使用 <i class="fa fa-arrow-right ml-2"></i>
                </a>
                <a
                  href="/registration-page.html"
                  class="btn-secondary text-center min-h-[48px] flex items-center justify-center"
                >
                  立即註冊 <i class="fa fa-info-circle ml-2"></i>
                </a>
              </div>
            </div>
            <div class="md:w-1/2">
              <img
                src="https://picsum.photos/600/400?random=1"
                alt="隨機質感圖片演示"
                class="rounded-xl shadow-xl w-full object-cover h-[250px] sm:h-[300px] md:h-[400px]"
              />
            </div>
          </div>
        </div>
      </section>

      <!-- 功能展示區 -->
      <section id="features" class="py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-4">
              簡單幾步，輕鬆管理聚會賬單
            </h2>
            <p class="text-gray-600 max-w-2xl mx-auto text-lg">
              我們有獨特算法、直觀工具，讓您的聚會賬單管理變得前所未有的簡單
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <!-- 功能卡片1：聚會創建 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div
                class="w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mb-6"
              >
                <i class="fa fa-calendar-plus-o text-primary text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-3">聚會創建</h3>
              <p class="text-gray-600">
                以每一場開心的聚會為單位，記錄不同的人員與消費類型。
              </p>
            </div>

            <!-- 功能卡片2：消費記錄 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div
                class="w-14 h-14 bg-secondary/10 rounded-full flex items-center justify-center mb-6"
              >
                <i class="fa fa-shopping-cart text-secondary text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-3">消費記錄</h3>
              <p class="text-gray-600">
                輕鬆添加每一筆消費，支持多人參與、詳細記錄，還可上傳發票照片。
              </p>
            </div>

            <!-- 功能卡片3：靈活分攤 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div
                class="w-14 h-14 bg-accent/10 rounded-full flex items-center justify-center mb-6"
              >
                <i class="fa fa-percent text-accent text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-3">靈活分攤</h3>
              <p class="text-gray-600">
                不局限於平均分攤，不論是AA、還是按個人消費，你遇得到的，我們想得到。
              </p>
            </div>

            <!-- 功能卡片4：智能報告 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div
                class="w-14 h-14 bg-green-500/10 rounded-full flex items-center justify-center mb-6"
              >
                <i class="fa fa-file-text-o text-green-500 text-2xl"></i>
              </div>
              <h3 class="text-xl font-semibold mb-3">智能報告</h3>
              <p class="text-gray-600">
                能直觀的看到自己的消費報告，讓每一位參與者都能夠知道自己的應收和應付款。
              </p>
            </div>
          </div>

          <!-- 额外功能：通知系統 -->
          <div
            class="mt-12 bg-gradient-to-r from-primary/5 to-primary/10 rounded-xl p-8 md:p-10 flex flex-col md:flex-row items-center"
          >
            <div class="md:w-1/5 mb-6 md:mb-0">
              <div
                class="w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center"
              >
                <i class="fa fa-bell-o text-primary text-2xl"></i>
              </div>
            </div>
            <div class="md:w-4/5">
              <h3 class="text-xl font-semibold mb-3">智能通知系統</h3>
              <p class="text-gray-600">
                有的時候，再好的朋友，催款也是一種尷尬。系統的自動通知，讓您的結算、付款和收款都變得容易，尷尬不再是尷尬，而是一種智能。
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 用戶評價 -->
      <section id="testimonials" class="py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-4">
              睇下使用者的說法
            </h2>
            <p class="text-gray-600 max-w-2xl mx-auto text-lg">
              來自真正使用過的用戶的體驗與感受
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- 評價1 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div class="flex items-center mb-4">
                <img
                  src="https://picsum.photos/100/100?random=10"
                  alt="用户头像"
                  class="w-12 h-12 rounded-full object-cover mr-4"
                />
                <div>
                  <h4 class="font-semibold">張先生</h4>
                  <div class="flex text-yellow-400">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600">
                "分分鐘㩒及粒制就已經搞定嗮拆數，真係唔嗮煩！你都知我小學數學體育老師教咖啦。"
              </p>
            </div>

            <!-- 評價2 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div class="flex items-center mb-4">
                <img
                  src="https://picsum.photos/100/100?random=11"
                  alt="用户头像"
                  class="w-12 h-12 rounded-full object-cover mr-4"
                />
                <div>
                  <h4 class="font-semibold">李先生</h4>
                  <div class="flex text-yellow-400">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-half-o"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600">
                "都幾用心嘅一個計算器，分到唔同類型的拆數方法，抵讚！"
              </p>
            </div>

            <!-- 評價3 -->
            <div class="bg-light rounded-xl p-6 shadow-sm card-hover">
              <div class="flex items-center mb-4">
                <img
                  src="https://picsum.photos/100/100?random=12"
                  alt="用户头像"
                  class="w-12 h-12 rounded-full object-cover mr-4"
                />
                <div>
                  <h4 class="font-semibold">王小姐</h4>
                  <div class="flex text-yellow-400">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600">
                "嘩，你唔用係唔會知道咖！有一個自動通知去追數，不知有幾方便。自己去問人還錢真係好鬼尷尬"
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 聯絡我們 -->
      <section
        id="contact"
        class="py-20 bg-gradient-to-r from-primary to-primary/80 text-white"
      >
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="max-w-3xl mx-auto text-center">
            <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold mb-6">
              開始您的聚會管理之旅
            </h2>
            <p class="text-xl text-white/90 mb-8">
              立即註冊
              加入已經在使用我們服務的用戶大家庭，讓聚會賬單管理變得輕鬆愉快。
            </p>
            <a
              href="/registration-page.html"
              class="inline-block bg-white text-primary font-semibold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"
            >
              立即免費註冊 <i class="fa fa-arrow-right ml-2"></i>
            </a>

            <div class="mt-12">
              <h3 class="text-xl font-semibold mb-6">關註我們的社交媒體</h3>
              <div class="flex justify-center space-x-6">
                <a
                  href="https://www.whatsapp.com/contact/noclient?lang=zh_hk"
                  target="_blank"
                  class="min-w-[48px] min-h-[48px] w-12 h-12 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors"
                  aria-label="WhatsApp"
                >
                  <i class="fa fa-whatsapp text-xl"></i>
                </a>
                <a
                  href="https://www.instagram.com/19night.wolf"
                  target="_blank"
                  class="min-w-[48px] min-h-[48px] w-12 h-12 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors"
                  aria-label="Instagram"
                >
                  <i class="fa fa-instagram text-xl"></i>
                </a>
                <a
                  href="https://www.facebook.com"
                  target="_blank"
                  class="min-w-[48px] min-h-[48px] w-12 h-12 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors"
                  aria-label="Facebook"
                >
                  <i class="fa fa-facebook text-xl"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- 底部資料 -->
    <footer class="bg-dark text-white pt-12 pb-8">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 mb-12">
          <!-- web info -->
          <div>
            <div class="flex items-center space-x-2 mb-6">
              <i class="fa fa-calculator text-primary text-2xl"></i>
              <span class="text-xl font-bold">PBC聚賬通</span>
            </div>
            <p class="text-gray-400 mb-6">
              讓聚會帳單分攤變得簡單公平，提升社交體驗的必備工具。
            </p>
          </div>

          <!-- 快速連結 -->
          <div>
            <h4 class="text-lg font-semibold mb-6">快速連結</h4>
            <ul class="space-y-3">
              <li>
                <a
                  href="#top"
                  class="text-gray-400 hover:text-white transition-colors"
                  >首頁</a
                >
              </li>
              <li>
                <a
                  href="#features"
                  class="text-gray-400 hover:text-white transition-colors"
                  >功能</a
                >
              </li>
              <li>
                <a
                  href="#testimonials"
                  class="text-gray-400 hover:text-white transition-colors"
                  >用戶評價</a
                >
              </li>
              <li>
                <a
                  href="#contact"
                  class="text-gray-400 hover:text-white transition-colors"
                  >聯絡我們</a
                >
              </li>
            </ul>
          </div>

          <!-- 聯絡我們 -->
          <div>
            <h4 class="text-lg font-semibold mb-6">聯絡我們</h4>
            <ul class="space-y-3">
              <li class="flex items-start">
                <i
                  class="fa fa-envelope-o text-gray-400 mt-1 mr-3 flex-shrink-0"
                ></i>
                <span class="text-gray-400 break-all">support@pbcapp.com</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-phone text-gray-400 mt-1 mr-3"></i>
                <span class="text-gray-400">852-1234-5678</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-map-marker text-gray-400 mt-1 mr-3"></i>
                <span class="text-gray-400 whitespace-normal"
                  >香港專業進修學校 應用教育文憑 智能科技應用及手機程式設計
                  專題研習
                </span>
              </li>
            </ul>
          </div>

          <!-- 法律信息 -->
          <div>
            <h4 class="text-lg font-semibold mb-6">法律信息</h4>
            <ul class="space-y-3">
              <li>
                <a
                  href="privacy-policy.html"
                  class="text-gray-400 hover:text-white transition-colors"
                  >個人資料私隱政策</a
                >
              </li>
              <li>
                <a
                  href="disclaimer.html"
                  class="text-gray-400 hover:text-white transition-colors"
                  >免責條例</a
                >
              </li>
              <li>
                <a
                  href="copyright.html"
                  class="text-gray-400 hover:text-white transition-colors"
                  >版權聲明</a
                >
              </li>
            </ul>
          </div>
        </div>

        <div class="border-t border-gray-800 pt-8 text-center text-gray-500">
          <p>&copy; 2025 PBC聚賬通. 保留所有權利</p>
        </div>
      </div>
    </footer>
    <!-- JavaScript -->
    <script>
      // 導航欄滾動效果
      window.addEventListener("scroll", function () {
        const navbar = document.getElementById("navbar");
        if (window.scrollY > 50) {
          navbar.classList.add("shadow-md");
          navbar.classList.remove("shadow-sm");
        } else {
          navbar.classList.remove("shadow-md");
          navbar.classList.add("shadow-sm");
        }
      });
      // 頁面加載時檢查滾動位置
      window.addEventListener("load", function () {
        const navbar = document.getElementById("navbar");
        if (window.scrollY > 50) {
          navbar.classList.add("shadow-md");
          navbar.classList.remove("shadow-sm");
        }
      });

      // 移動端菜單切換
      document
        .getElementById("menu-toggle")
        .addEventListener("click", function () {
          const mobileMenu = document.getElementById("mobile-menu");
          mobileMenu.classList.toggle("hidden");
        });

      // 平滑滾動效果
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();

          const targetId = this.getAttribute("href");
          if (targetId === "#") return;

          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: "smooth",
            });

            // 關閉移動端菜單（如果打開的話）
            document.getElementById("mobile-menu").classList.add("hidden");
          }
        });
      });
    </script>

    <!-- 引入認證管理器 -->
    <script src="/js/auth.js"></script>
    <script>
      /**
       * 轉義 HTML 特殊字符以防止 XSS 攻擊
       */
      function escapeHtml(text) {
        if (text == null) return "";
        const div = document.createElement("div");
        div.textContent = String(text);
        return div.innerHTML;
      }

      // 主頁認證檢查
      document.addEventListener("DOMContentLoaded", function () {
        // 檢查用戶認證狀態
        if (window.authManager.isAuthenticated()) {
          console.log("用戶已登入，顯示登入狀態");
          // 更新導航欄顯示登入用戶
          updateNavigationForLoggedInUser();
        } else {
          console.log("用戶未登入，顯示登入/註冊按鈕");
          // 顯示登入/註冊按鈕
          updateNavigationForGuest();
        }
      });

      function updateNavigationForLoggedInUser() {
        const user = window.authManager.getCurrentUser();
        if (user) {
          // 更新導航欄
          const loginBtn = document.querySelector('a[href="/login-page.html"]');
          const registerBtn = document.querySelector(
            'a[href="/registration-page.html"]'
          );

          if (loginBtn && registerBtn) {
            // 隱藏登入/註冊按鈕
            loginBtn.style.display = "none";
            registerBtn.style.display = "none";

            // 添加用戶信息顯示
            const userInfo = document.createElement("div");
            userInfo.className = "flex items-center space-x-4";
            userInfo.innerHTML = `
              <span class="text-gray-700">歡迎，${escapeHtml(
                user.username
              )}</span>
              <a href="/calculator.html" class="btn-primary">開始計算</a>
              <button onclick="logout()" class="text-gray-600 hover:text-primary">登出</button>
            `;

            // 插入到導航欄
            const navContainer = loginBtn.parentElement;
            navContainer.appendChild(userInfo);
          }
        }
      }

      function updateNavigationForGuest() {
        // 確保登入/註冊按鈕可見
        const loginBtn = document.querySelector('a[href="/login-page.html"]');
        const registerBtn = document.querySelector(
          'a[href="/registration-page.html"]'
        );

        if (loginBtn && registerBtn) {
          loginBtn.style.display = "inline-block";
          registerBtn.style.display = "inline-block";
        }
      }

      // 登出函數
      async function logout() {
        await window.authManager.logout();
      }

      // 優化"開始使用"按鈕邏輯 - 如果已登錄則跳轉到計算頁面
      document.addEventListener("DOMContentLoaded", () => {
        // 獲取所有"開始使用"按鈕
        const startButtons = document.querySelectorAll(
          'a[href="/login-page.html"]'
        );

        startButtons.forEach((button) => {
          button.addEventListener("click", (e) => {
            // 檢查用戶是否已登錄
            const sessionId = localStorage.getItem("sessionId");
            const userData = localStorage.getItem("user");

            if (sessionId && userData) {
              // 如果已登錄，跳轉到計算頁面
              e.preventDefault();
              window.location.href = "/calculator.html";
            }
            // 如果未登錄，繼續跳轉到登錄頁面（默認行為）
          });
        });
      });
    </script>
  </body>
</html>
