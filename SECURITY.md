# 安全政策

## 🛡️ 支持的版本

我們目前為以下版本提供安全更新：

| 版本  | 支持狀態    |
| ----- | ----------- |
| 2.0.x | ✅ 支持     |
| 1.x.x | ❌ 不再支持 |

## 🔒 安全特性

PartyBillCalculator 實現了以下安全措施：

### 認證和授權

- ✅ 密碼加密存儲（使用 bcrypt）
- ✅ 會話管理和驗證
- ✅ 用戶數據隔離
- ✅ API 端點認證保護
- ✅ 頁面級別訪問控制

### 數據保護

- ✅ 敏感數據加密
- ✅ SQL 注入防護
- ✅ XSS 攻擊防護
- ✅ CSRF 保護
- ✅ 安全的文件上傳處理

### 網絡安全

- ✅ HTTPS 支持（生產環境推薦）
- ✅ 請求速率限制
- ✅ 安全的 HTTP 頭設置

## 🚨 報告安全漏洞

我們非常重視安全問題。如果您發現了安全漏洞，請負責任地向我們報告。

### 報告流程

**請勿**公開披露安全漏洞，直到我們有機會解決它。

1. **通過私密渠道報告**

   請通過以下方式之一向我們報告安全問題：

   - 📧 發送郵件至：[support@pbcapp.com] （請替換為您的實際郵箱）
   - 🔒 使用 GitHub 的私密安全報告功能
   - 💬 在 GitHub 上私信項目維護者

2. **提供詳細信息**

   請在報告中包含以下信息：

   - 漏洞的詳細描述
   - 重現步驟
   - 潛在影響評估
   - 如果可能，提供概念驗證代碼
   - 您的聯繫方式

3. **等待響應**

   我們承諾：

   - 📅 在 48 小時內確認收到您的報告
   - 🔍 在 7 天內進行初步評估
   - 🛠️ 根據嚴重程度，在 30-90 天內提供修復

### 報告範例

```markdown
## 安全漏洞報告

### 漏洞類型

[例如：SQL 注入、XSS、認證繞過等]

### 嚴重程度

[高/中/低]

### 描述

[詳細描述漏洞]

### 重現步驟

1.
2.
3.

### 影響

[描述此漏洞可能造成的影響]

### 建議修復

[如果您有修復建議，請在這裡描述]

### 發現者

[您的姓名/用戶名]
```

## 🏆 致謝

我們感謝以下安全研究人員對項目安全性的貢獻：

<!--
- [研究人員姓名] - [發現的漏洞類型] - [日期]
-->

_目前還沒有報告。成為第一個發現並報告安全問題的人！_

## 🔐 安全最佳實踐

如果您是項目的使用者或部署者，請遵循以下安全最佳實踐：

### 部署安全

- ✅ **使用強密碼**：為管理員帳戶設置強密碼（至少 12 個字符，包含大小寫字母、數字和特殊字符）
- ✅ **啟用 HTTPS**：在生產環境中始終使用 HTTPS
- ✅ **更新依賴**：定期更新所有依賴項以修補已知漏洞
- ✅ **配置防火牆**：只開放必要的端口
- ✅ **定期備份**：定期備份數據庫和文件

### 環境配置

- ✅ **保護環境變量**：不要將 `.env` 文件提交到版本控制
- ✅ **使用環境特定配置**：為開發、測試和生產環境使用不同的配置
- ✅ **限制日誌信息**：不要在日誌中記錄敏感信息
- ✅ **設置會話超時**：配置合理的會話超時時間

### 代碼安全

- ✅ **驗證用戶輸入**：始終驗證和清理用戶輸入
- ✅ **使用參數化查詢**：防止 SQL 注入
- ✅ **適當的錯誤處理**：不要在錯誤消息中暴露敏感信息
- ✅ **最小權限原則**：只授予必要的權限

### 監控和響應

- 🔍 **監控異常活動**：設置日誌監控和警報
- 🔄 **定期安全審計**：定期檢查代碼和配置
- 📋 **準備事件響應計劃**：制定安全事件響應流程
- 🔒 **及時修補**：及時應用安全補丁

## 🔄 安全更新政策

### 版本發布

- **重大安全更新**：立即發布補丁版本
- **次要安全更新**：在下一個次要版本中包含
- **安全公告**：通過 GitHub Security Advisories 發布

### 漏洞披露時間表

1. **Day 0**：收到安全報告
2. **Day 2**：確認收到並開始評估
3. **Day 7**：完成初步評估並分配嚴重等級
4. **Day 30-90**：開發和測試修復（取決於嚴重程度）
5. **修復發布後**：30 天內公開披露詳情

## 📚 安全資源

### 相關文檔

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [Node.js Security Best Practices](https://nodejs.org/en/docs/guides/security/)
- [Express.js Security Best Practices](https://expressjs.com/en/advanced/best-practice-security.html)

### 安全工具

我們推薦使用以下工具進行安全檢查：

- `npm audit` - 檢查依賴項漏洞
- `eslint-plugin-security` - 靜態代碼安全分析
- `helmet` - 設置安全的 HTTP 頭
- `express-rate-limit` - API 速率限制

## 🤝 安全貢獻

如果您想為項目的安全性做出貢獻：

1. 查看現有的安全問題
2. 提議新的安全增強功能
3. 改進安全文檔
4. 進行代碼安全審計

請遵循我們的 [貢獻指南](CONTRIBUTING.md)。

## 📞 聯繫方式

如有安全相關問題，請聯繫：

- 📧 郵箱：[your-email@example.com] （請替換為您的實際郵箱）
- 🔗 GitHub：[@YourUsername](https://github.com/YourUsername)

---

**感謝您幫助我們保持 PartyBillCalculator 的安全！** 🙏

_最後更新：2025 年 10 月 16 日_
